
# 📊 Day13：高风险子类识别与亏损率分析

本日目标：识别亏损订单中风险最高的商品子类，结合销售额、利润、亏损率三项指标进行分析，辅助运营优化。

---

## ✅ 分析 1：子类总销售额与总利润汇总

通过 `groupby` + `sum()` 对亏损订单中的子类进行销售与利润的总计：

```python
subcat_summary = loss_state_df.groupby('Sub-Category')[['Sales', 'Profit']].sum()
```

---

## ✅ 分析 2：计算子类亏损率并排序

亏损率定义为：

```python
subcat_summary['Loss Rate'] = -subcat_summary['Profit'] / subcat_summary['Sales']
```

> 每销售 1 元造成的亏损，数值越大表示每卖一元亏更多。

---

## ✅ 分析 3：亏损率柱状图（按子类排序）

图表呈现各商品子类的亏损率排行，发现：

- **Appliances**：亏损率高达 2.55，需重点处理
- **Binders**：销量高但亏损率也高，需优化运营
- **Chairs / Tables**：销售额大，亏损率低，是潜力商品

---

## ✅ 分析 4：销售额 vs 总利润的散点图

展示每个子类的总销售额与利润的关系，并用 `plt.text()` 标注子类名称。

---

## ✅ 分析 5：销售额 vs 亏损率（识别高风险子类）

最终图如下：

![scatter_lossrate](day13_scatter_lossrate.png)

该图帮助我们识别「销售额高但仍有较高亏损率」的子类，辅助运营决策。

---

## 🔍 为什么亏损率低还值得推广？

亏损率的定义：
> **亏损率 = - 总利润 ÷ 销售额**

即：每销售 1 元亏多少钱。

因此：

- **亏损率低 ≠ 完全盈利**，但说明**单位亏损小，有优化空间**
- 若能改善采购成本/配送折扣，就可能**由小亏转为盈利**
- 销售额高+亏损率低的商品（如 Chairs / Phones），是典型的**高成长潜力品类**

---

## ✅ 结论建议：

| 子类类型                  | 建议         |
|---------------------------|--------------|
| 高亏损率 + 销售额低       | ❌ 剔除       |
| 高亏损率 + 销售额高       | ⚠️ 评估调整   |
| 低亏损率 + 销售额高       | ✅ 重点扶持   |
| 低亏损率 + 销售额低       | ⭕ 观察稳定   |

---
